<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.dtdt.DormManager.controller.admin.StatsViewController"
      spacing="20.0" style="-fx-background-color: transparent;">

    <!-- Header -->
    <VBox>
        <Text style="-fx-font-size: 24; -fx-font-weight: bold;" text="Dashboard"/>
        <Text style="-fx-fill: #666666;" text="View overall statistics and performance"/>
    </VBox>

    <!-- Quick Stats Cards -->
    <HBox spacing="20.0">
        <VBox styleClass="stat-card" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 0); -fx-padding: 20; -fx-pref-width: 280;">
            <HBox>
                <VBox HBox.hgrow="ALWAYS">
                    <Label text="Total Residents" style="-fx-font-size: 14; -fx-text-fill: #666;"/>
                    <Label fx:id="totalResidentsLabel" text="247" style="-fx-font-size: 28; -fx-font-weight: bold;"/>
                    <Label text="+12% vs last month" style="-fx-text-fill: #2E7D32;"/>
                </VBox>
                <!-- Icon placeholder -->
                <Region prefWidth="40" prefHeight="40" style="-fx-background-color: #E8F5E9; -fx-background-radius: 8;"/>
            </HBox>
        </VBox>
        
        <VBox styleClass="stat-card" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 0); -fx-padding: 20; -fx-pref-width: 280;">
            <HBox>
                <VBox HBox.hgrow="ALWAYS">
                    <Label text="Occupancy Rate" style="-fx-font-size: 14; -fx-text-fill: #666;"/>
                    <Label fx:id="occupancyRateLabel" text="85%" style="-fx-font-size: 28; -fx-font-weight: bold;"/>
                    <Label text="+5% vs last month" style="-fx-text-fill: #2E7D32;"/>
                </VBox>
                <Region prefWidth="40" prefHeight="40" style="-fx-background-color: #E1F5FE; -fx-background-radius: 8;"/>
            </HBox>
        </VBox>
        
        <VBox styleClass="stat-card" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 0); -fx-padding: 20; -fx-pref-width: 280;">
            <HBox>
                <VBox HBox.hgrow="ALWAYS">
                    <Label text="Pending Maintenance" style="-fx-font-size: 14; -fx-text-fill: #666;"/>
                    <Label fx:id="pendingMaintenanceLabel" text="12" style="-fx-font-size: 28; -fx-font-weight: bold;"/>
                    <Label text="-3 vs last month" style="-fx-text-fill: #C62828;"/>
                </VBox>
                <Region prefWidth="40" prefHeight="40" style="-fx-background-color: #FFEBEE; -fx-background-radius: 8;"/>
            </HBox>
        </VBox>
        
        <VBox styleClass="stat-card" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 0); -fx-padding: 20; -fx-pref-width: 280;">
            <HBox>
                <VBox HBox.hgrow="ALWAYS">
                    <Label text="Revenue This Month" style="-fx-font-size: 14; -fx-text-fill: #666;"/>
                    <Label fx:id="revenueLabel" text="₱1.2M" style="-fx-font-size: 28; -fx-font-weight: bold;"/>
                    <Label text="+8% vs last month" style="-fx-text-fill: #2E7D32;"/>
                </VBox>
                <Region prefWidth="40" prefHeight="40" style="-fx-background-color: #F1F8E9; -fx-background-radius: 8;"/>
            </HBox>
        </VBox>
    </HBox>

    <!-- Charts Section -->
    <HBox spacing="20.0" VBox.vgrow="ALWAYS">
        <!-- Occupancy Trend Chart -->
        <VBox HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 0); -fx-padding: 20;">
            <HBox alignment="CENTER_LEFT" spacing="20">
                <Label text="Occupancy Trend" style="-fx-font-size: 16; -fx-font-weight: bold;"/>
                <ComboBox promptText="Last 6 Months"/>
            </HBox>
            <LineChart fx:id="occupancyTrendChart" createSymbols="false" 
                      style="-fx-background-color: transparent;" legendVisible="false">
                <xAxis>
                    <CategoryAxis label="Month" style="-fx-text-fill: #666;"/>
                </xAxis>
                <yAxis>
                    <NumberAxis label="Occupancy Rate (%)" style="-fx-text-fill: #666;"/>
                </yAxis>
            </LineChart>
        </VBox>

        <!-- Revenue Chart -->
        <VBox HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 0); -fx-padding: 20;">
            <HBox alignment="CENTER_LEFT" spacing="20">
                <Label text="Revenue" style="-fx-font-size: 16; -fx-font-weight: bold;"/>
                <ComboBox promptText="Last 6 Months"/>
            </HBox>
            <BarChart fx:id="revenueChart" style="-fx-background-color: transparent;" legendVisible="false">
                <xAxis>
                    <CategoryAxis label="Month" style="-fx-text-fill: #666;"/>
                </xAxis>
                <yAxis>
                    <NumberAxis label="Amount (₱)" style="-fx-text-fill: #666;"/>
                </yAxis>
            </BarChart>
        </VBox>
    </HBox>

</VBox>